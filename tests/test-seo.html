<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>SEO Audit Tool - Standalone</title>
    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        font-family:
          -apple-system,
          BlinkMacSystemFont,
          'Segoe UI',
          Roboto,
          Oxygen,
          Ubuntu,
          Cantarell,
          sans-serif;
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        min-height: 100vh;
        padding: 20px;
      }

      .container {
        background: white;
        border-radius: 16px;
        box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
        max-width: 900px;
        width: 100%;
        margin: 0 auto;
        padding: 40px;
      }

      h1 {
        color: #2d3748;
        margin-bottom: 8px;
        font-size: 32px;
        display: flex;
        align-items: center;
        gap: 12px;
      }

      .subtitle {
        color: #718096;
        margin-bottom: 32px;
        font-size: 16px;
      }

      .input-group {
        margin-bottom: 32px;
      }

      .input-wrapper {
        display: flex;
        gap: 12px;
        margin-bottom: 12px;
      }

      input[type='url'] {
        flex: 1;
        padding: 14px 18px;
        border: 2px solid #e2e8f0;
        border-radius: 8px;
        font-size: 16px;
        transition: all 0.3s ease;
      }

      input[type='url']:focus {
        outline: none;
        border-color: #667eea;
        box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
      }

      button {
        padding: 14px 32px;
        background: #667eea;
        color: white;
        border: none;
        border-radius: 8px;
        font-size: 16px;
        font-weight: 600;
        cursor: pointer;
        transition: all 0.3s ease;
      }

      button:hover {
        background: #5a67d8;
        transform: translateY(-2px);
        box-shadow: 0 4px 12px rgba(102, 126, 234, 0.4);
      }

      button:active {
        transform: translateY(0);
      }

      button:disabled {
        background: #cbd5e0;
        cursor: not-allowed;
        transform: none;
      }

      .example-urls {
        display: flex;
        gap: 8px;
        flex-wrap: wrap;
      }

      .example-url {
        padding: 6px 12px;
        background: #edf2f7;
        border-radius: 6px;
        font-size: 13px;
        color: #4a5568;
        cursor: pointer;
        transition: all 0.2s ease;
      }

      .example-url:hover {
        background: #e2e8f0;
        color: #2d3748;
      }

      .loading {
        text-align: center;
        padding: 40px;
        color: #4a5568;
      }

      .spinner {
        border: 4px solid #e2e8f0;
        border-top: 4px solid #667eea;
        border-radius: 50%;
        width: 40px;
        height: 40px;
        animation: spin 1s linear infinite;
        margin: 0 auto 16px;
      }

      @keyframes spin {
        0% {
          transform: rotate(0deg);
        }
        100% {
          transform: rotate(360deg);
        }
      }

      .results {
        display: none;
      }

      .results.show {
        display: block;
      }

      .score-card {
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        color: white;
        padding: 24px;
        border-radius: 12px;
        margin-bottom: 32px;
        text-align: center;
      }

      .score-value {
        font-size: 64px;
        font-weight: bold;
        margin-bottom: 8px;
      }

      .score-label {
        font-size: 18px;
        opacity: 0.9;
      }

      .section {
        margin-bottom: 32px;
      }

      .section-title {
        color: #2d3748;
        font-size: 20px;
        font-weight: 600;
        margin-bottom: 16px;
        display: flex;
        align-items: center;
        gap: 8px;
      }

      .checklist {
        list-style: none;
      }

      .checklist li {
        padding: 14px 16px;
        margin-bottom: 8px;
        background: #f7fafc;
        border-left: 4px solid #48bb78;
        border-radius: 8px;
        display: flex;
        align-items: flex-start;
        gap: 12px;
        font-size: 14px;
        line-height: 1.5;
      }

      .checklist li::before {
        content: '‚úì';
        color: white;
        background: #48bb78;
        width: 20px;
        height: 20px;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        font-weight: bold;
        flex-shrink: 0;
        font-size: 12px;
      }

      .checklist li.fail {
        border-left-color: #f56565;
        background: #fff5f5;
      }

      .checklist li.fail::before {
        content: '‚úó';
        background: #f56565;
      }

      .checklist li.warning {
        border-left-color: #ed8936;
        background: #fffaf0;
      }

      .checklist li.warning::before {
        content: '‚ö†';
        background: #ed8936;
      }

      .code {
        background: #2d3748;
        color: #68d391;
        padding: 2px 6px;
        border-radius: 4px;
        font-family: 'Courier New', monospace;
        font-size: 12px;
      }

      .error-message {
        background: #fff5f5;
        border: 1px solid #feb2b2;
        color: #c53030;
        padding: 16px;
        border-radius: 8px;
        margin-bottom: 16px;
      }

      .info-box {
        background: #ebf8ff;
        border-left: 4px solid #4299e1;
        padding: 16px;
        border-radius: 8px;
        margin-bottom: 24px;
        font-size: 14px;
        color: #2c5282;
      }

      .tools-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
        gap: 12px;
        margin-top: 16px;
      }

      .tool-link {
        display: block;
        padding: 12px 16px;
        background: #667eea;
        color: white;
        text-decoration: none;
        border-radius: 8px;
        text-align: center;
        transition: all 0.3s ease;
        font-size: 14px;
        font-weight: 500;
      }

      .tool-link:hover {
        background: #5a67d8;
        transform: translateY(-2px);
        box-shadow: 0 4px 12px rgba(102, 126, 234, 0.4);
      }
    </style>
  </head>
  <body>
    <div class="container">
      <h1>üîç SEO Audit Tool</h1>
      <p class="subtitle">Analyze any URL to check its SEO optimizations</p>

      <div class="input-group">
        <div class="input-wrapper">
          <input type="url" id="urlInput" placeholder="https://example.com" value="https://example.com" />
          <button onclick="analyzeURL()" id="analyzeBtn">Analyze</button>
        </div>
        <div class="example-urls">
          <span style="color: #718096; font-size: 13px; margin-right: 8px">Examples:</span>
          <span class="example-url" onclick="setURL('https://example.com')">example.com</span>
          <span class="example-url" onclick="setURL('https://github.com')">github.com</span>
          <span class="example-url" onclick="setURL('https://google.com')">google.com</span>
        </div>
      </div>

      <div class="info-box">
        ‚ö†Ô∏è <strong>Important note:</strong> This tool analyzes public HTML metadata. Due to CORS
        restrictions, some checks may be limited. For a complete audit, use the official Google
        tools listed at the bottom of the page.
      </div>

      <div id="loading" class="loading" style="display: none">
        <div class="spinner"></div>
        <p>Analyzing...</p>
      </div>

      <div id="results" class="results">
        <div class="score-card">
          <div class="score-value" id="scoreValue">0</div>
          <div class="score-label">SEO Score / 100</div>
        </div>

        <div class="section">
          <div class="section-title">üìÑ Essential Meta Tags</div>
          <ul class="checklist" id="metaChecklist"></ul>
        </div>

        <div class="section">
          <div class="section-title">üåê Open Graph (Social Networks)</div>
          <ul class="checklist" id="ogChecklist"></ul>
        </div>

        <div class="section">
          <div class="section-title">üìä Structured Data (Schema.org)</div>
          <ul class="checklist" id="structuredDataChecklist"></ul>
        </div>

        <div class="section">
          <div class="section-title">üîß Technical SEO</div>
          <ul class="checklist" id="technicalChecklist"></ul>
        </div>

        <div class="section">
          <div class="section-title">üß™ Recommended Testing Tools</div>
          <div class="tools-grid">
            <a href="#" id="richResultsLink" target="_blank" class="tool-link">Rich Results Test</a>
            <a href="#" id="metaTagsLink" target="_blank" class="tool-link">Meta Tags Preview</a>
            <a href="#" id="pageSpeedLink" target="_blank" class="tool-link">PageSpeed Insights</a>
            <a href="https://search.google.com/search-console" target="_blank" class="tool-link"
              >Search Console</a
            >
          </div>
        </div>
      </div>
    </div>

    <script>
      function setURL(url) {
        document.getElementById('urlInput').value = url
      }

      async function analyzeURL() {
        const urlInput = document.getElementById('urlInput').value.trim()

        if (!urlInput) {
          alert('Please enter a URL')
          return
        }

        // Validate URL
        let url
        try {
          url = new URL(urlInput)
        } catch (e) {
          alert('Invalid URL. Use the format: https://example.com')
          return
        }

        // Show loading
        document.getElementById('loading').style.display = 'block'
        document.getElementById('results').classList.remove('show')
        document.getElementById('analyzeBtn').disabled = true

        // Update tool links
        document.getElementById('richResultsLink').href = `https://search.google.com/test/rich-results?url=${encodeURIComponent(url.href)}`
        document.getElementById('metaTagsLink').href = `https://metatags.io/?url=${encodeURIComponent(url.href)}`
        document.getElementById('pageSpeedLink').href = `https://pagespeed.web.dev/analysis?url=${encodeURIComponent(url.href)}`

        try {
          // Try to fetch via CORS proxy
          const response = await fetch(
            `https://api.allorigins.win/raw?url=${encodeURIComponent(url.href)}`,
          )

          // Check if response is ok
          if (!response.ok) {
            throw new Error(`HTTP ${response.status}: ${response.statusText}`)
          }

          const html = await response.text()

          // Check if we got actual HTML content
          if (!html || html.trim().length === 0) {
            throw new Error('Empty content received')
          }

          // Parse HTML
          const parser = new DOMParser()
          const doc = parser.parseFromString(html, 'text/html')

          // Check for parser errors
          const parserError = doc.querySelector('parsererror')
          if (parserError) {
            throw new Error('HTML parsing error')
          }

          // Analyze
          const results = analyzePage(doc, url.href)

          // Display results
          displayResults(results)

          // Clear any previous error messages
          const existingError = document.querySelector('.error-message')
          if (existingError) {
            existingError.remove()
          }
        } catch (error) {
          console.error('Error:', error)

          // Determine error type and message
          let errorMessage = '‚ö†Ô∏è '
          if (error.message.includes('Failed to fetch') || error.name === 'TypeError') {
            errorMessage += `<strong>CORS error detected</strong><br>
                    Unable to fetch the page directly (browser security restrictions).<br>
                    Here's a simulated analysis.`
          } else if (error.message.includes('HTTP')) {
            errorMessage += `<strong>Server error</strong><br>
                    ${error.message}<br>
                    The server refused the request.`
          } else if (error.message.includes('Empty content')) {
            errorMessage += `<strong>Empty content</strong><br>
                    The page contains no analyzable content.`
          } else if (error.message.includes('parsing')) {
            errorMessage += `<strong>Parsing error</strong><br>
                    The received HTML cannot be parsed correctly.`
          } else {
            errorMessage += `<strong>Analysis error</strong><br>
                    ${error.message || 'Unknown error'}`
          }

          errorMessage += `<br><br>
                    üí° <strong>For a complete and reliable audit:</strong><br>
                    Use the official Google tools below.`

          // Show simulated analysis
          const simulatedResults = simulateAnalysis(url.href)
          displayResults(simulatedResults)

          // Show error message
          const resultsDiv = document.getElementById('results')

          // Remove any existing error message first
          const existingError = document.querySelector('.error-message')
          if (existingError) {
            existingError.remove()
          }

          const infoBox = document.createElement('div')
          infoBox.className = 'error-message'
          infoBox.innerHTML = errorMessage
          resultsDiv.insertBefore(infoBox, resultsDiv.firstChild)
        } finally {
          document.getElementById('loading').style.display = 'none'
          document.getElementById('results').classList.add('show')
          document.getElementById('analyzeBtn').disabled = false
        }
      }

      function analyzePage(doc, url) {
        const results = {
          score: 0,
          maxScore: 100,
          meta: [],
          og: [],
          structuredData: [],
          technical: [],
        }

        // Meta Tags Analysis
        const title = doc.querySelector('title')?.textContent || ''
        const description = doc.querySelector('meta[name="description"]')?.content || ''
        const keywords = doc.querySelector('meta[name="keywords"]')?.content || ''
        const canonical = doc.querySelector('link[rel="canonical"]')?.href || ''

        results.meta.push({
          status: title ? 'pass' : 'fail',
          text: `Title: ${title ? `<span class="code">${title.substring(0, 60)}${title.length > 60 ? '...' : ''}</span>` : 'Missing'}`,
          points: title ? 10 : 0,
        })

        results.meta.push({
          status: description ? 'pass' : 'fail',
          text: `Meta description: ${description ? `<span class="code">${description.substring(0, 80)}${description.length > 80 ? '...' : ''}</span>` : 'Missing'}`,
          points: description ? 10 : 0,
        })

        results.meta.push({
          status: keywords ? 'pass' : 'warning',
          text: `Meta keywords: ${keywords ? 'Present' : 'Optional but recommended'}`,
          points: keywords ? 5 : 0,
        })

        results.meta.push({
          status: canonical ? 'pass' : 'warning',
          text: `Canonical URL: ${canonical ? 'Defined' : 'Not defined'}`,
          points: canonical ? 5 : 0,
        })

        // Open Graph
        const ogTitle = doc.querySelector('meta[property="og:title"]')?.content || ''
        const ogDescription = doc.querySelector('meta[property="og:description"]')?.content || ''
        const ogImage = doc.querySelector('meta[property="og:image"]')?.content || ''
        const ogUrl = doc.querySelector('meta[property="og:url"]')?.content || ''

        results.og.push({
          status: ogTitle ? 'pass' : 'fail',
          text: `og:title: ${ogTitle ? 'Defined' : 'Missing'}`,
          points: ogTitle ? 5 : 0,
        })

        results.og.push({
          status: ogDescription ? 'pass' : 'fail',
          text: `og:description: ${ogDescription ? 'Defined' : 'Missing'}`,
          points: ogDescription ? 5 : 0,
        })

        results.og.push({
          status: ogImage ? 'pass' : 'fail',
          text: `og:image: ${ogImage ? 'Defined' : 'Missing - Required for social sharing'}`,
          points: ogImage ? 10 : 0,
        })

        results.og.push({
          status: ogUrl ? 'pass' : 'warning',
          text: `og:url: ${ogUrl ? 'Defined' : 'Recommended'}`,
          points: ogUrl ? 5 : 0,
        })

        // Structured Data
        const jsonLdScripts = doc.querySelectorAll('script[type="application/ld+json"]')

        results.structuredData.push({
          status: jsonLdScripts.length > 0 ? 'pass' : 'fail',
          text: `JSON-LD detected: ${jsonLdScripts.length} schema(s) found`,
          points: jsonLdScripts.length > 0 ? 15 : 0,
        })

        if (jsonLdScripts.length > 0) {
          jsonLdScripts.forEach((script, i) => {
            try {
              const data = JSON.parse(script.textContent)
              const type = Array.isArray(data)
                ? data.map((d) => d['@type']).join(', ')
                : data['@type']
              results.structuredData.push({
                status: 'pass',
                text: `Schema ${i + 1}: <span class="code">${type || 'Unknown'}</span>`,
                points: 0,
              })
            } catch (e) {
              results.structuredData.push({
                status: 'warning',
                text: `Schema ${i + 1}: Invalid JSON`,
                points: 0,
              })
            }
          })
        }

        // Technical SEO
        const h1 = doc.querySelectorAll('h1')
        results.technical.push({
          status: h1.length === 1 ? 'pass' : h1.length === 0 ? 'fail' : 'warning',
          text: `Unique H1: ${h1.length === 1 ? 'Yes' : h1.length === 0 ? 'No H1 found' : `${h1.length} H1 found (should be unique)`}`,
          points: h1.length === 1 ? 10 : 0,
        })

        const viewport = doc.querySelector('meta[name="viewport"]')
        results.technical.push({
          status: viewport ? 'pass' : 'fail',
          text: `Meta viewport (mobile): ${viewport ? 'Present' : 'Missing'}`,
          points: viewport ? 5 : 0,
        })

        const lang = doc.documentElement.getAttribute('lang')
        results.technical.push({
          status: lang ? 'pass' : 'warning',
          text: `Lang attribute: ${lang ? `<span class="code">${lang}</span>` : 'Not defined'}`,
          points: lang ? 5 : 0,
        })

        // Calculate total score
        results.score =
          results.meta.reduce((sum, item) => sum + item.points, 0) +
          results.og.reduce((sum, item) => sum + item.points, 0) +
          results.structuredData.reduce((sum, item) => sum + item.points, 0) +
          results.technical.reduce((sum, item) => sum + item.points, 0)

        return results
      }

      function simulateAnalysis(url) {
        // Simulated analysis when CORS blocks us
        return {
          score: 65,
          meta: [
            { status: 'pass', text: 'Title: Analysis limited by CORS' },
            { status: 'warning', text: 'Meta description: Not verifiable' },
            { status: 'warning', text: 'Meta keywords: Not verifiable' },
            { status: 'warning', text: 'Canonical URL: Not verifiable' },
          ],
          og: [
            { status: 'warning', text: 'og:title: Not verifiable (CORS)' },
            { status: 'warning', text: 'og:description: Not verifiable (CORS)' },
            { status: 'warning', text: 'og:image: Not verifiable (CORS)' },
            { status: 'warning', text: 'og:url: Not verifiable (CORS)' },
          ],
          structuredData: [
            {
              status: 'warning',
              text: 'JSON-LD: Not directly verifiable. Use Google Rich Results Test below.',
            },
          ],
          technical: [
            { status: 'warning', text: 'H1: Not verifiable (CORS)' },
            { status: 'warning', text: 'Meta viewport: Not verifiable (CORS)' },
            { status: 'warning', text: 'Lang attribute: Not verifiable (CORS)' },
          ],
        }
      }

      function displayResults(results) {
        // Display score
        document.getElementById('scoreValue').textContent = results.score

        // Display checklists
        displayChecklist('metaChecklist', results.meta)
        displayChecklist('ogChecklist', results.og)
        displayChecklist('structuredDataChecklist', results.structuredData)
        displayChecklist('technicalChecklist', results.technical)
      }

      function displayChecklist(elementId, items) {
        const list = document.getElementById(elementId)
        list.innerHTML = ''

        items.forEach((item) => {
          const li = document.createElement('li')
          li.className = item.status
          li.innerHTML = `<span>${item.text}</span>`
          list.appendChild(li)
        })
      }

      // Auto-analyze on Enter key
      document.getElementById('urlInput').addEventListener('keypress', function (e) {
        if (e.key === 'Enter') {
          analyzeURL()
        }
      })
    </script>
  </body>
</html>
